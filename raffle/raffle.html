<template name="raffle">

    <div id="winner-announcement-popup"></div>

    <div class="raffle-top">
        {{#unless isDone }}
            {{#unless isMaster}}
                {{> addParticipant}}
            {{/unless}}
        {{/unless}}

        {{#unless isDone }}
            {{#if isMaster}}
                {{> drawWinner}}
            {{/if}}
        {{/unless}}
    </div>


    <div class="raffle-description">
        <div class="mdl-typography--display-2">
            <h1 class="display-2">Raffle for {{raffleDateFormatted}}</h1>
        </div>

        <p class="status-paragraph">
            {{#unless isDone}}
                {{ numberOfParticipants }} participants in play. {{ getNumberOfTicketsInPlay }} total tickets in the pool.
            {{/unless}}
            {{#if isDone}}
                There were {{ getTotalNumberOfParticipants }} participants and {{ getTotalNumberOfTickets }} tickets.
            {{/if}}

        </p>
    </div>

    {{> winnerTable}}

    {{> participantsTable}}

    {{#if isMaster}}
        <div>
            {{#if isDone}}
                <button id="undoFinishRaffle" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect md-button--spacious">
                    Start Raffle Again
                </button>
            {{/if}}

            {{#unless isDone }}
                <button id="finishRaffle" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect md-button--spacious">
                    Finish Raffle
                </button>
            {{/unless}}
        </div>

        <div>
            <button id="deleteRaffle" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect md-button--spacious">
                Delete Raffle
            </button>
        </div>

    {{/if}}

</template>